



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- ViewVC :: http://www.viewvc.org/ -->
<head>
<title>[mediawiki] Log of /trunk/phase3/maintenance/tables.sql</title>
<meta name="generator" content="ViewVC 1.1.5" />
<!-- <link rel="shortcut icon" href="/viewvc/*docroot*/images/favicon.ico" /> -->
<link rel="stylesheet" href="/viewvc/*docroot*/styles.css" type="text/css" />

</head>
<body>
<div class="vc_navheader">
<table><tr>
<td><strong><a href="/viewvc"><span class="pathdiv">/</span></a><a href="/viewvc/mediawiki/">[mediawiki]</a><span class="pathdiv">/</span><a href="/viewvc/mediawiki/trunk/">trunk</a><span class="pathdiv">/</span><a href="/viewvc/mediawiki/trunk/phase3/">phase3</a><span class="pathdiv">/</span><a href="/viewvc/mediawiki/trunk/phase3/maintenance/">maintenance</a><span class="pathdiv">/</span>tables.sql</strong></td>
<td style="text-align: right;"></td>
</tr></table>
</div>
<div style="float: right; padding: 5px;"><a href="http://www.wikimedia.org/"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Wikimedia_logo_text_RGB.svg/76px-Wikimedia_logo_text_RGB.svg.png" alt="Wikimedia" height="35" width="38">&nbsp;&nbsp;<a href="http://www.viewvc.org/" title="ViewVC Home"><img src="/viewvc/*docroot*/images/viewvc-logo.png" alt="ViewVC logotype" width="120" height="35" /></a></div><h1>Log of /trunk/phase3/maintenance/tables.sql</h1>

<p style="margin:0;">

<a href="/viewvc/mediawiki/trunk/phase3/maintenance/"><img src="/viewvc/*docroot*/images/back_small.png" class="vc_icon" alt="Parent Directory" /> Parent Directory</a>

| <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?view=log"><img src="/viewvc/*docroot*/images/log.png" class="vc_icon" alt="Revision Log" /> Revision Log</a>




</p>

<hr />
<table class="auto">



<tr>
<td>Links to HEAD:</td>
<td>
(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?view=markup">view</a>)
(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?view=annotate">annotate</a>)
</td>
</tr>



<tr>
<td>Sticky Revision:</td>
<td><form method="get" action="/viewvc/mediawiki" style="display: inline">
<div style="display: inline">
<input type="hidden" name="orig_pathtype" value="FILE"/><input type="hidden" name="orig_view" value="log"/><input type="hidden" name="orig_path" value="trunk/phase3/maintenance/tables.sql"/><input type="hidden" name="view" value="redirect_pathrev"/>

<input type="text" name="pathrev" value="" size="6"/>

<input type="submit" value="Set" />
</div>
</form>

</td>
</tr>
</table>
 

<hr />
<form method="get" action="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql">
<input type="hidden" name="view" value="log"/>
<input type="submit" value="Go to:">
<select name="log_pagestart" onchange="submit()">


<option  value="0">Page 1: 113110 - 80443</option>



<option selected value="50">Page 2: 79763 - 46460</option>



<option  value="100">Page 3: 45897 - 28446</option>



<option  value="150">Page 4: 28386 - 18325</option>



<option  value="200">Page 5: 18237 ...</option>


</select>
</form>








<div>
<hr />

<a name="rev79763"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=79763"><strong>79763</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=79763&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=79763&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=79763">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=79763&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Jan  6 22:09:58 2011 UTC</em>
(2 years, 5 months ago)
by <em>bawolff</em>









<br />File length: 51703 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=79746&amp;r2=79763">previous 79746</a>







<pre class="vc_log">follow-up r79706 (the cl_timestamp updating on null edit bug) add comment to
sql file about the length of the cl_sortkey_prefix field, per comment on CR
by Nikerabbit.
</pre>
</div>



<div>
<hr />

<a name="rev79746"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=79746"><strong>79746</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=79746&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=79746&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=79746">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=79746&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Jan  6 19:27:17 2011 UTC</em>
(2 years, 5 months ago)
by <em>reedy</em>









<br />File length: 51583 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=79702&amp;r2=79746">previous 79702</a>







<pre class="vc_log">Followup r79702, r66793, r66822

Add patch to kill bad original ar_page_revid index (did exist as 2 definitions under the same name). Add patch to add index ar_revid per FIXME, though, hopefully only a temporary index

Updated tables.sql with new index
</pre>
</div>



<div>
<hr />

<a name="rev79702"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=79702"><strong>79702</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=79702&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=79702&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=79702">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=79702&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Jan  6 02:15:53 2011 UTC</em>
(2 years, 5 months ago)
by <em>reedy</em>









<br />File length: 51588 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=79072&amp;r2=79702">previous 79072</a>







<pre class="vc_log">Per fixme on r66822, change index to CREATE INDEX /*i*/ar_page_revid ON /*_*/archive (ar_rev_id);
</pre>
</div>



<div>
<hr />

<a name="rev79072"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=79072"><strong>79072</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=79072&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=79072&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=79072">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=79072&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Mon Dec 27 17:17:45 2010 UTC</em>
(2 years, 5 months ago)
by <em>platonides</em>









<br />File length: 51612 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=77711&amp;r2=79072">previous 77711</a>







<pre class="vc_log">(Bug 26434) - Generated password from &quot;Create account by email&quot; does not work.
Another consequence of the $ts === 0 from r71751.
Fixed in a more verbose way. Behavior documented in tables.sql

</pre>
</div>



<div>
<hr />

<a name="rev77711"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=77711"><strong>77711</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=77711&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=77711&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=77711">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=77711&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sat Dec  4 03:20:14 2010 UTC</em>
(2 years, 6 months ago)
by <em>mah</em>









<br />File length: 51437 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=76150&amp;r2=77711">previous 76150</a>







<pre class="vc_log">Whitespace fixup under tha maint directory.
</pre>
</div>



<div>
<hr />

<a name="rev76150"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=76150"><strong>76150</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=76150&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=76150&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=76150">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=76150&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Nov  5 22:15:58 2010 UTC</em>
(2 years, 7 months ago)
by <em>catrope</em>









<br />File length: 51692 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=74798&amp;r2=76150">previous 74798</a>







<pre class="vc_log">Per bug 25503 comment #11, use varbinary instead of varchar for ResourceLoader-related tables to avoid errors about indexes being too long. Only really needed for msg_resource_links, changed the rest for consistency. No updater needed: anyone who's already gotten this set up without these errors doesn't need this change.
</pre>
</div>



<div>
<hr />

<a name="rev74798"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=74798"><strong>74798</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=74798&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=74798&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=74798">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=74798&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Oct 14 21:47:02 2010 UTC</em>
(2 years, 7 months ago)
by <em>simetrical</em>









<br />File length: 51682 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=74547&amp;r2=74798">previous 74547</a>







<pre class="vc_log">cl_sortkey should be 230 bytes long, not 255

Bug 25503, reported by Dmitriy.  When switching it to binary, I figured
that since it would always be one byte per character now, there would be
room to make it the full 255 bytes.  In fact, if cl_to is utf8, the
(cl_to, cl_type, cl_sortkey, cl_from) index will be 255*3 + 1 + 255 + 4
= 1025 bytes, longer than the max of 1000.  Shortening cl_sortkey to 230
bytes fixes this (fix tested by Dmitriy).

I didn't add an updater because if you're already running the current
schema without problems, you don't need this change.</pre>
</div>



<div>
<hr />

<a name="rev74547"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=74547"><strong>74547</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=74547&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=74547&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=74547">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=74547&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sat Oct  9 13:34:19 2010 UTC</em>
(2 years, 7 months ago)
by <em>ialex</em>









<br />File length: 51682 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=72349&amp;r2=74547">previous 72349</a>







<pre class="vc_log">Fixed comment; wfEncryptPassword() is deprecated
</pre>
</div>



<div>
<hr />

<a name="rev72349"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=72349"><strong>72349</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=72349&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=72349&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=72349">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=72349&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sat Sep  4 04:00:09 2010 UTC</em>
(2 years, 9 months ago)
by <em>catrope</em>









<br />File length: 51732 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=72308&amp;r2=72349">previous 72308</a>







<pre class="vc_log">Merging resourceloader branch into trunk. Full documentation is at <a href="http://www.mediawiki.org/wiki/ResourceLoader">http://www.mediawiki.org/wiki/ResourceLoader</a> and a general overview has been posted on wikitech-li &lt;<a href="http://lists.wikimedia.org/pipermail/wikitech-l/2010-September/049253.html">http://lists.wikimedia.org/pipermail/wikitech-l/2010-September/049253.html</a>&gt;. One important change is that all JS is now loaded at the bottom, so any scripts assuming things from wikibits or whatever are present will fail.

</pre>
</div>



<div>
<hr />

<a name="rev72308"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=72308"><strong>72308</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=72308&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=72308&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=72308">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=72308&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Sep  3 20:52:08 2010 UTC</em>
(2 years, 9 months ago)
by <em>simetrical</em>









<br />File length: 50505 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=70716&amp;r2=72308">previous 70716</a>







<pre class="vc_log">Further categorylinks schema changes

Per review by Tim, I made two changes:

1) Fix cl_sortkey to be varbinary(255).

2) Expand cl_collation to varbinary(32), and change $wgCollationVersion
to $wgCategoryCollation, to account for the variety of collations we
might have.  tinyint is too small.  I could have gone with int, but
that's annoyingly inscrutable in practice, as we all know from namespace
fields.

To make the upgrade easier for non-trunk users, I updated the old patch
file to incorporate the new changes, using the updatelog table so that
people upgrading from 1.16 won't have to do two alters on categorylinks.
I didn't test the upgrade-from-1.16 code path yet, so if anyone tests
that and it seems not to break, commenting to that effect would be
appreciated.

Also removed wfDeprecated() from archive().  Do *not* add this to
functions that are still actively used in core.  If you think this
function is so terrible that it really mustn't be used, remove callers
yourself, don't pester every single developer with messages in the hope
that someone else will do it for you.</pre>
</div>



<div>
<hr />

<a name="rev70716"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=70716"><strong>70716</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=70716&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=70716&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=70716">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=70716&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sun Aug  8 16:51:09 2010 UTC</em>
(2 years, 9 months ago)
by <em>simetrical</em>









<br />File length: 50747 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=69721&amp;r2=70716">previous 69721</a>







<pre class="vc_log">Update tables.sql for category sorting changes

Pointed out by X! on Code Review for r69961.  There are a couple of
FIXMEs here, I'm waiting for review to evaluate how to fix them.</pre>
</div>



<div>
<hr />

<a name="rev69721"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=69721"><strong>69721</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=69721&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=69721&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=69721">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=69721&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Jul 22 08:52:58 2010 UTC</em>
(2 years, 10 months ago)
by <em>catrope</em>









<br />File length: 49312 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=69542&amp;r2=69721">previous 69542</a>







<pre class="vc_log">Rename the iwl_prefix_from_title index (again) to iwl_prefix_title_from and change the field order accordingly. Fixed r66892 which inserted iwl_from into the index (which was a good thing) but put it in the wrong place. I went out of my way to make sure the index isn't dropped and recreated needlessly, but since I don't know how to do the drop-index-if-exists thing in the Postgres updater, I left that out. The Postgres updater will now create the new index without dropping any old incarnations if present. I did create the patch files with the DROP INDEX statements to make it easier to add this behavior. Also tweak ApiQueryIWBacklinks to use this index properly.
</pre>
</div>



<div>
<hr />

<a name="rev69542"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=69542"><strong>69542</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=69542&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=69542&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=69542">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=69542&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Mon Jul 19 11:55:30 2010 UTC</em>
(2 years, 10 months ago)
by <em>catrope</em>









<br />File length: 49305 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=69186&amp;r2=69542">previous 69186</a>







<pre class="vc_log">Add iw_api and iw_wikiid fields to the interwiki table, plus rudimentary support in Interwiki.php and Title.php . Code written by peter17 in the iwtransclusion branch. This revision is a partial merge of r68170, r68448, r69480, r69540 and r69541
</pre>
</div>



<div>
<hr />

<a name="rev69186"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=69186"><strong>69186</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=69186&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=69186&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=69186">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=69186&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Jul  8 13:58:42 2010 UTC</em>
(2 years, 11 months ago)
by <em>demon</em>









<br />File length: 49118 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=66892&amp;r2=69186">previous 66892</a>







<pre class="vc_log">Add optional ul_value blob to updatelog so it can store more useful things</pre>
</div>



<div>
<hr />

<a name="rev66892"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=66892"><strong>66892</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=66892&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=66892&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=66892">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=66892&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Tue May 25 20:37:20 2010 UTC</em>
(3 years ago)
by <em>reedy</em>









<br />File length: 49101 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=66822&amp;r2=66892">previous 66822</a>







<pre class="vc_log">Followup to r65105 after discussion with Roan

Make the non-unique index index all fields

Patches updated, patch created to update index. Table.sql also updated</pre>
</div>



<div>
<hr />

<a name="rev66822"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=66822"><strong>66822</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=66822&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=66822&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=66822">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=66822&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Mon May 24 12:31:30 2010 UTC</em>
(3 years ago)
by <em>werdna</em>









<br />File length: 49080 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=66821&amp;r2=66822">previous 66821</a>







<pre class="vc_log">Fix index creation</pre>
</div>



<div>
<hr />

<a name="rev66821"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=66821"><strong>66821</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=66821&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=66821&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=66821">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=66821&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Mon May 24 12:30:09 2010 UTC</em>
(3 years ago)
by <em>werdna</em>









<br />File length: 49076 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=66793&amp;r2=66821">previous 66793</a>







<pre class="vc_log">Remove wayward comma</pre>
</div>



<div>
<hr />

<a name="rev66793"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=66793"><strong>66793</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=66793&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=66793&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=66793">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=66793&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sun May 23 14:19:20 2010 UTC</em>
(3 years ago)
by <em>werdna</em>









<br />File length: 49077 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=65104&amp;r2=66793">previous 65104</a>







<pre class="vc_log">Ugly temporary fix for bug 21279:
* When a revision cannot be found in the revision table, look for it in the archive table.
* If both deleted and undeleted revisions are covered by the same log entry, show two links (see bug 23663)</pre>
</div>



<div>
<hr />

<a name="rev65104"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=65104"><strong>65104</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=65104&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=65104&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=65104">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=65104&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Apr 16 01:40:05 2010 UTC</em>
(3 years, 1 month ago)
by <em>brion</em>









<br />File length: 48995 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=63961&amp;r2=65104">previous 63961</a>







<pre class="vc_log">* (bug 14473) Add iwlinks table to track inline interwiki link usage

Like langlinks, this stores the interwiki prefix (as iwl_prefix) and full page title (as iwl_title), attached to the page doing the liking (as iwl_from -&gt; page_id).
Unlike langlinks, there can be multiple entries stored per interwiki prefix.

Updater to add the table confirmed on MySQL, untested on SQLite but should work.
Someone may still need to add and test a PostgreSQL updater.

Refactored makeWhereFrom2d() out of LinkBatch to Database so it could be re-used for the similar mapping for the interwiki links, which need a string prefix rather than an int namespace key.
Also cleaned it up internally to reuse existing code for building where clauses from arrays. (Tim &amp; Domas -- if the previous more verbose code was there to reduce function call and array processing overhead on very large link lists, feel free to unroll it again if the difference is measurable. Just swap the var names around from the old LinkBatch code and escape the base key value if it's not an integer, it'll be functionally equivalent.)

</pre>
</div>



<div>
<hr />

<a name="rev63961"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=63961"><strong>63961</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=63961&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=63961&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=63961">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=63961&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Mar 19 22:12:30 2010 UTC</em>
(3 years, 2 months ago)
by <em>btongminh</em>









<br />File length: 48475 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=62870&amp;r2=63961">previous 62870</a>







<pre class="vc_log">Comment fix: Special:Imagelist -&gt; Special:ListFiles
For those poor people who can't remember all special pages MediaWiki has</pre>
</div>



<div>
<hr />

<a name="rev62870"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=62870"><strong>62870</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=62870&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=62870&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=62870">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=62870&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Tue Feb 23 11:24:40 2010 UTC</em>
(3 years, 3 months ago)
by <em>freakolowsky</em>









<br />File length: 48475 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=59925&amp;r2=62870">previous 59925</a>







<pre class="vc_log">Changed all *_mime_minor field lengths to 100; current 32 does not support some OpenDocument mimes
* changed tables.sql for mysql and oracle
* added patch script for mysql and included it in updaters.inc

</pre>
</div>



<div>
<hr />

<a name="rev59925"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=59925"><strong>59925</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=59925&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=59925&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=59925">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=59925&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Dec 10 05:39:45 2009 UTC</em>
(3 years, 5 months ago)
by <em>overlordq</em>









<br />File length: 48472 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=59842&amp;r2=59925">previous 59842</a>







<pre class="vc_log">Followup to r59869, add to MySQL section, and copy patch to SQLite directory</pre>
</div>



<div>
<hr />

<a name="rev59842"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=59842"><strong>59842</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=59842&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=59842&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=59842">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=59842&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Tue Dec  8 19:32:17 2009 UTC</em>
(3 years, 5 months ago)
by <em>simetrical</em>









<br />File length: 48465 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=57964&amp;r2=59842">previous 57964</a>







<pre class="vc_log">Rename some extauth functions and fields

Per Code Review at
&lt;<a href="http://www.mediawiki.org/wiki/Special:Code/MediaWiki/53497#c4633">http://www.mediawiki.org/wiki/Special:Code/MediaWiki/53497#c4633</a>&gt;.  One
of the changes was a database field, and updaters might have to be
written for pgsql and DB2.</pre>
</div>



<div>
<hr />

<a name="rev57964"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=57964"><strong>57964</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=57964&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=57964&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=57964">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=57964&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Wed Oct 21 02:46:39 2009 UTC</em>
(3 years, 7 months ago)
by <em>overlordq</em>









<br />File length: 48464 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=57610&amp;r2=57964">previous 57610</a>







<pre class="vc_log">Add missing columns to PG schemas
Add exceptions to schema comparison script
Alter SQL comments to appease said script

</pre>
</div>



<div>
<hr />

<a name="rev57610"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=57610"><strong>57610</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=57610&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=57610&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=57610">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=57610&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sat Oct 10 09:14:51 2009 UTC</em>
(3 years, 7 months ago)
by <em>midom</em>









<br />File length: 48446 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=53497&amp;r2=57610">previous 53497</a>







<pre class="vc_log">adding partial job_param to job_cmd index
</pre>
</div>



<div>
<hr />

<a name="rev53497"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=53497"><strong>53497</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=53497&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=53497&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=53497">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=53497&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sun Jul 19 22:02:00 2009 UTC</em>
(3 years, 10 months ago)
by <em>simetrical</em>









<br />File length: 48429 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=53409&amp;r2=53497">previous 53409</a>







<pre class="vc_log">Add experimental new auth framework, ExternalAuth

This should not affect any existing behavior.  (Except that it reorders
some error conditions in attemptAutoCreate(), but probably no one cares
about that.)  It adds a new database table, but it will be unused unless
you enable external authentication.

An outline of the rationale for this system, and the design planning, is
at &lt;<a href="http://www.mediawiki.org/wiki/ExternalAuth">http://www.mediawiki.org/wiki/ExternalAuth</a>&gt;.  Essentially,
AuthPlugin puts too much of a burden on plugin authors, requiring them
to write a lot of policy logic instead of just handling the actual
interface to the external user database.  This system uses a standard
framework to decide policy questions, and auth plugins only need to
provide some low-level, clearly-specified data.

There are lots of features still missing, marked in the code, but basic
functionality is present.  The commit includes initial support for one
type of external authentication, the forum software vBulletin (which I
happen to know well, and want to integrate with my MediaWiki).

I'm encouraging the inclusion of ExternalAuth plugins in core because in
this framework, the amount of code required to add an additional backend
is quite small -- well under 100 lines in this case.  I'd hope to see a
lot more of these, and it seems unreasonable to make an armada of tiny
extensions instead of letting them live happily in their own directory
out of everyone's way.</pre>
</div>



<div>
<hr />

<a name="rev53409"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=53409"><strong>53409</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=53409&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=53409&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=53409">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=53409&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Jul 17 17:50:28 2009 UTC</em>
(3 years, 10 months ago)
by <em>catrope</em>









<br />File length: 48039 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=53408&amp;r2=53409">previous 53408</a>







<pre class="vc_log">Followup to r53408: change lengths of log_action and log_type too. Thanks to OverlordQ for spotting this.</pre>
</div>



<div>
<hr />

<a name="rev53408"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=53408"><strong>53408</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=53408&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=53408&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=53408">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=53408&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Jul 17 17:45:53 2009 UTC</em>
(3 years, 10 months ago)
by <em>catrope</em>









<br />File length: 48039 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=52618&amp;r2=53408">previous 52618</a>







<pre class="vc_log">(bug 19570) Add log_user_text and log_page to tables.sql; fixes r51997</pre>
</div>



<div>
<hr />

<a name="rev52618"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=52618"><strong>52618</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=52618&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=52618&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=52618">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=52618&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Wed Jul  1 00:55:45 2009 UTC</em>
(3 years, 11 months ago)
by <em>demon</em>









<br />File length: 47734 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=52568&amp;r2=52618">previous 52568</a>







<pre class="vc_log">(bug 19428) PG and MySQL followups to r52503. Patch by OverlordQ</pre>
</div>



<div>
<hr />

<a name="rev52568"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=52568"><strong>52568</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=52568&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=52568&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=52568">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=52568&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Mon Jun 29 19:44:52 2009 UTC</em>
(3 years, 11 months ago)
by <em>werdna</em>









<br />File length: 47712 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=52503&amp;r2=52568">previous 52503</a>







<pre class="vc_log">Document tag_summary and change_tags tables</pre>
</div>



<div>
<hr />

<a name="rev52503"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=52503"><strong>52503</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=52503&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=52503&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=52503">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=52503&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sun Jun 28 07:11:43 2009 UTC</em>
(3 years, 11 months ago)
by <em>tstarling</em>









<br />File length: 47477 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=51583&amp;r2=52503">previous 51583</a>







<pre class="vc_log">* Introduced a new system for localisation caching. The system is based around fast fetches of individual messages, minimising memory overhead and startup time in the typical case. It handles both core messages (formerly in Language.php) and extension messages (formerly in MessageCache.php). Profiling indicates a significant win for average throughput.
* The serialized message cache, which would have been redundant, has been removed. Similar performance characteristics can be achieved with $wgLocalisationCacheConf['manualRecache'] = true;
* Added a maintenance script rebuildLocalisationCache.php for offline rebuilding of the localisation cache.
* Extension i18n files can now contain any of the variables which can be set in Messages*.php. It is possible, and recommended, to use this feature instead of the hooks for special page aliases and magic words. 
* $wgExtensionAliasesFiles, LanguageGetMagic and LanguageGetSpecialPageAliases are retained for backwards compatibility. $wgMessageCache-&gt;addMessages() and related functions have been removed. wfLoadExtensionMessages() is a no-op and can continue to be called for b/c. 
* Introduced $wgCacheDirectory as a default location for the various local caches that have accumulated. Suggested $IP/cache as a good place for it in the default LocalSettings.php and created this directory with a deny-all .htaccess.
* Patched Exception.php to avoid using the message cache when an exception is thrown from within LocalisationCache, since this tends to fail horribly.
* Removed Language::getLocalisationArray(), Language::loadLocalisation(), Language::load()
* Fixed FileDependency::__sleep()
* In Cdb.php, fixed newlines in debug messages

In MessageCache::get(): 
* Replaced calls to $wgContLang capitalisation functions with plain PHP functions, reducing the typical case from 99us to 93us. Message cache keys are already documented as being restricted to ASCII.
* Implemented a more efficient way to filter out bogus language codes, reducing the &quot;foo/en&quot; case from 430us to 101us
* Optimised wfRunHooks() in the typical do-nothing case, from ~30us to ~3us. This reduced MessageCache::get() typical case time from 93us to 38us.
* Removed hook MessageNotInMwNs to save an extra 3us per cache hit. Reimplemented the only user (LocalisationUpdate) using the new hook LocalisationCacheRecache.
</pre>
</div>



<div>
<hr />

<a name="rev51583"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=51583"><strong>51583</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=51583&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=51583&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=51583">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=51583&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Mon Jun  8 07:11:30 2009 UTC</em>
(4 years ago)
by <em>catrope</em>









<br />File length: 47193 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=51465&amp;r2=51583">previous 51465</a>







<pre class="vc_log">SCHEMA CHANGE: adding rd_interwiki patch from bug 14418. Actual use of this schema change will follow later
</pre>
</div>



<div>
<hr />

<a name="rev51465"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=51465"><strong>51465</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=51465&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=51465&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=51465">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=51465&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Jun  4 12:57:22 2009 UTC</em>
(4 years ago)
by <em>aaron</em>









<br />File length: 47104 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=50796&amp;r2=51465">previous 50796</a>







<pre class="vc_log">Tweaked r49468 - sqllite fix</pre>
</div>



<div>
<hr />

<a name="rev50796"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=50796"><strong>50796</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=50796&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=50796&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=50796">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=50796&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Tue May 19 20:55:29 2009 UTC</em>
(4 years ago)
by <em>greg</em>









<br />File length: 47061 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=50608&amp;r2=50796">previous 50608</a>







<pre class="vc_log">Clean up whitespace, add log_search to Postgres schema.
</pre>
</div>



<div>
<hr />

<a name="rev50608"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=50608"><strong>50608</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=50608&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=50608&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=50608">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=50608&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu May 14 22:43:57 2009 UTC</em>
(4 years ago)
by <em>brion</em>









<br />File length: 47060 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=50567&amp;r2=50608">previous 50567</a>







<pre class="vc_log">Cleanup for r50567:
* Include DB table options on log_search table creation
* Adjust tabs-&gt;spaces in table def... sounds silly, but the tabs sometimes confuse things when cut-and-pasting into mysql command line. :)
</pre>
</div>



<div>
<hr />

<a name="rev50567"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=50567"><strong>50567</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=50567&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=50567&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=50567">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=50567&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Wed May 13 22:03:32 2009 UTC</em>
(4 years ago)
by <em>aaron</em>









<br />File length: 47031 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=49963&amp;r2=50567">previous 49963</a>







<pre class="vc_log">[schema change] Use new log_search table to replace ugly code from r48839. Maintenance script added to populate the table with revisiondelete log items.</pre>
</div>



<div>
<hr />

<a name="rev49963"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=49963"><strong>49963</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=49963&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=49963&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=49963">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=49963&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Mon Apr 27 17:15:01 2009 UTC</em>
(4 years, 1 month ago)
by <em>brion</em>









<br />File length: 46678 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=49869&amp;r2=49963">previous 49869</a>







<pre class="vc_log">* Update patch-user_properties.sql to match definition in tables.sql
* Add some doc comments on user_properties table def and move it up near the user tales
</pre>
</div>



<div>
<hr />

<a name="rev49869"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=49869"><strong>49869</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=49869&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=49869&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=49869">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=49869&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sat Apr 25 11:23:23 2009 UTC</em>
(4 years, 1 month ago)
by <em>werdna</em>









<br />File length: 46074 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=49790&amp;r2=49869">previous 49790</a>







<pre class="vc_log">Fix MW installation for table-prefixes</pre>
</div>



<div>
<hr />

<a name="rev49790"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=49790"><strong>49790</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=49790&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=49790&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=49790">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=49790&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Apr 24 01:31:17 2009 UTC</em>
(4 years, 1 month ago)
by <em>werdna</em>









<br />File length: 46064 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=48628&amp;r2=49790">previous 48628</a>







<pre class="vc_log">Branch merge of preferences work branch. Includes fixes for several bugs. WARNING: Breaks some extensions which have not been adapted to use it properly (basically anything not used on Wikimedia).</pre>
</div>



<div>
<hr />

<a name="rev48628"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=48628"><strong>48628</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=48628&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=48628&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=48628">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=48628&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Mar 20 11:20:39 2009 UTC</em>
(4 years, 2 months ago)
by <em>catrope</em>









<br />File length: 45697 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=48615&amp;r2=48628">previous 48615</a>







<pre class="vc_log">Fix typo in tables.sql, pointed out by Jidanni</pre>
</div>



<div>
<hr />

<a name="rev48615"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=48615"><strong>48615</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=48615&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=48615&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=48615">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=48615&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Mar 20 01:15:41 2009 UTC</em>
(4 years, 2 months ago)
by <em>brion</em>









<br />File length: 45697 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=48266&amp;r2=48615">previous 48266</a>







<pre class="vc_log">Revert r48212 &quot;Add user_hidden field to complement ipb_deleted and gu_hidden&quot;
Unauthorized schema change, also appears to be unused.
</pre>
</div>



<div>
<hr />

<a name="rev48266"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=48266"><strong>48266</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=48266&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=48266&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=48266">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=48266&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Tue Mar 10 15:43:15 2009 UTC</em>
(4 years, 2 months ago)
by <em>catrope</em>









<br />File length: 45791 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=48212&amp;r2=48266">previous 48212</a>







<pre class="vc_log">(bug 17907) Remove trailing comma from tables.sql</pre>
</div>



<div>
<hr />

<a name="rev48212"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=48212"><strong>48212</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=48212&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=48212&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=48212">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=48212&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Mon Mar  9 09:57:07 2009 UTC</em>
(4 years, 2 months ago)
by <em>aaron</em>









<br />File length: 45792 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=47867&amp;r2=48212">previous 47867</a>







<pre class="vc_log">Add user_hidden field to complement ipb_deleted and gu_hidden</pre>
</div>



<div>
<hr />

<a name="rev47867"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=47867"><strong>47867</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=47867&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=47867&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=47867">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=47867&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Feb 27 16:49:32 2009 UTC</em>
(4 years, 3 months ago)
by <em>greg</em>









<br />File length: 45697 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=47250&amp;r2=47867">previous 47250</a>







<pre class="vc_log">Whitespace consistency.
</pre>
</div>



<div>
<hr />

<a name="rev47250"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=47250"><strong>47250</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=47250&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=47250&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=47250">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=47250&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Sat Feb 14 06:10:42 2009 UTC</em>
(4 years, 3 months ago)
by <em>werdna</em>









<br />File length: 45689 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=47128&amp;r2=47250">previous 47128</a>







<pre class="vc_log">Fix r45764, which made a whole bunch of random indices UNIQUE for no apparent reason.</pre>
</div>



<div>
<hr />

<a name="rev47128"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=47128"><strong>47128</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=47128&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=47128&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=47128">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=47128&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Wed Feb 11 08:18:44 2009 UTC</em>
(4 years, 3 months ago)
by <em>tstarling</em>









<br />File length: 45710 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=46941&amp;r2=47128">previous 46941</a>







<pre class="vc_log">Fixed broken comment (fails on my version of MySQL)
</pre>
</div>



<div>
<hr />

<a name="rev46941"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=46941"><strong>46941</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=46941&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=46941&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=46941">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=46941&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Fri Feb  6 21:17:43 2009 UTC</em>
(4 years, 3 months ago)
by <em>ialex</em>









<br />File length: 45711 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=46535&amp;r2=46941">previous 46535</a>







<pre class="vc_log">Fix for r46460: use &quot;CREATE INDEX ... ON ...&quot; rather than inside &quot;CREATE TABLE&quot; so that SQLite doesn't throw an error when creating new tables
</pre>
</div>



<div>
<hr />

<a name="rev46535"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=46535"><strong>46535</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=46535&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=46535&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=46535">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=46535&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Thu Jan 29 15:41:00 2009 UTC</em>
(4 years, 4 months ago)
by <em>midom</em>









<br />File length: 45362 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=46467&amp;r2=46535">previous 46467</a>







<pre class="vc_log">stray comma, did anyone test this?
</pre>
</div>



<div>
<hr />

<a name="rev46467"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=46467"><strong>46467</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=46467&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=46467&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=46467">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=46467&amp;view=log">[select for diffs]</a>




<br />

Modified

<em>Wed Jan 28 19:36:20 2009 UTC</em>
(4 years, 4 months ago)
by <em>ialex</em>









<br />File length: 45363 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=46460&amp;r2=46467">previous 46460</a>







<pre class="vc_log">Fix syntax error :)
</pre>
</div>



<div>
<hr />

<a name="rev46460"></a>


Revision <a href="/viewvc/mediawiki?view=revision&amp;revision=46460"><strong>46460</strong></a> -


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=46460&amp;view=markup">view</a>)


(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?revision=46460&amp;view=co">download</a>)

(<a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?annotate=46460">annotate</a>)



- <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=46460&amp;view=log">[select for diffs]</a>




<br />

Added

<em>Wed Jan 28 19:08:18 2009 UTC</em>
(4 years, 4 months ago)
by <em>werdna</em>









<br />File length: 45362 byte(s)







<br />Diff to <a href="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql?r1=45897&amp;r2=46460">previous 45897</a>







<pre class="vc_log">Branch merge of change-tagging branch with trunk
-- Introduce tagging of individual changes (revisions, logs, and on recentchanges). The tags are customisable, and currently settable by the Abuse Filter and by the TorBlock extension. The tags can be styled on the various pages on which they appear.
-- Introduces a schema change, three new tables (valid_tag, change_tag, and tag_summary).</pre>
</div>

 

<hr />
<form method="get" action="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql">
<input type="hidden" name="view" value="log"/>
<input type="submit" value="Go to:">
<select name="log_pagestart" onchange="submit()">


<option  value="0">Page 1: 113110 - 80443</option>



<option selected value="50">Page 2: 79763 - 46460</option>



<option  value="100">Page 3: 45897 - 28446</option>



<option  value="150">Page 4: 28386 - 18325</option>



<option  value="200">Page 5: 18237 ...</option>


</select>
</form>



 <hr />
<p><a name="diff"></a>
This form allows you to request diffs between any two revisions of this file.
For each of the two "sides" of the diff,

enter a numeric revision.

</p>
<form method="get" action="/viewvc/mediawiki/trunk/phase3/maintenance/tables.sql" id="diff_select">
<table cellpadding="2" cellspacing="0" class="auto">
<tr>
<td>&nbsp;</td>
<td>
<input type="hidden" name="view" value="diff"/>
Diffs between

<input type="text" size="12" name="r1"
value="79763" />

and

<input type="text" size="12" name="r2" value="46460" />

</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
Type of Diff should be a
<select name="diff_format" onchange="submit()">
<option value="h" selected="selected">Colored Diff</option>
<option value="l" >Long Colored Diff</option>
<option value="f" >Full Colored Diff</option>
<option value="u" >Unidiff</option>
<option value="c" >Context Diff</option>
<option value="s" >Side by Side</option>
</select>
<input type="submit" value=" Get Diffs " />
</td>
</tr>
</table>
</form>





<hr />
<table>
<tr>
<td><a href="https://bugzilla.wikimedia.org/"><img border="0" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Buggie.svg/38px-Buggie.svg.png" width="38" height="50">Bug the devs</a></td>
<td style="text-align: right;"><strong><a href="/viewvc/*docroot*/help_log.html">ViewVC Help</a></strong></td>
</tr>
<tr>
<td style="text-align: right;">&nbsp;</td>
</tr>
</table>
<center>Powered by <a href="http://viewvc.tigris.org/">ViewVC 1.1.5</a></center>
</body>
</html>


